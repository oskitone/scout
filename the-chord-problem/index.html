<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-the-chord-problem" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">The chord problem | Oskitone Scout Assembly Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oskitone.github.io/scout/the-chord-problem"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The chord problem | Oskitone Scout Assembly Guide"><meta data-rh="true" name="description" content="Sometimes playing specific chords"><meta data-rh="true" property="og:description" content="Sometimes playing specific chords"><meta data-rh="true" property="og:image" content="https://oskitone.github.io/scout/img/scout-10-838-032.gif"><meta data-rh="true" name="twitter:image" content="https://oskitone.github.io/scout/img/scout-10-838-032.gif"><link data-rh="true" rel="icon" href="/scout/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oskitone.github.io/scout/the-chord-problem"><link data-rh="true" rel="alternate" href="https://oskitone.github.io/scout/the-chord-problem" hreflang="en"><link data-rh="true" rel="alternate" href="https://oskitone.github.io/scout/the-chord-problem" hreflang="x-default"><link rel="stylesheet" href="/scout/assets/css/styles.1fd350a8.css">
<script src="/scout/assets/js/runtime~main.7257d20b.js" defer="defer"></script>
<script src="/scout/assets/js/main.127a5e13.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/scout/"><b class="navbar__title text--truncate">Oskitone Scout Assembly Guide</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scout/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scout/3d-printing-parts-and-slicing">3D-Printing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scout/general-tips">PCB Assembly</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scout/assemble-top">Assembly</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/scout/change-the-arduino-code">Hacking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/scout/bom">Appendix</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/bom">Annotated BOM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/pcb-troubleshooting">PCB troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/assembly-troubleshooting">Assembly troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/opening-the-enclosure">Opening the enclosure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/scout/the-chord-problem">The chord problem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/schematics">Schematics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scout/source-and-license">Source and License</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/scout/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Appendix</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">The chord problem</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The chord problem</h1></header><p>The Scout is monophonic; it can only play one note at a time. If you try to hold multiple notes simultaneously, it tries to do what&#x27;s called &quot;last note priority&quot; and only plays the most recently held key&#x27;s note.</p>
<p>But sometimes, specific chords or sets of keys seem to add a note that you hadn&#x27;t anticipated.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reproduce-the-issue">Reproduce the issue<a href="#reproduce-the-issue" class="hash-link" aria-label="Direct link to Reproduce the issue" title="Direct link to Reproduce the issue">​</a></h2>
<ol>
<li>Play the first three white keys individually in succession. <strong>C</strong>, then <strong>D</strong>, then <strong>E</strong>. They should sound exactly as you&#x27;d expect.</li>
<li>Now, play them together. <strong>C</strong> <em>and</em> <strong>D</strong> <em>and</em> <strong>E</strong>.</li>
<li>Notice that it plays a totally different note at the end there instead of <strong>E</strong>. If you continue playing keys up individually, you&#x27;ll discover that we got an <strong>F#</strong> at the end instead of the E we were expecting.</li>
<li>Now play the same run of those first three white keys but in the reverse order. <strong>E</strong> <em>and</em> <strong>D</strong> <em>and</em> <strong>C</strong>.</li>
<li>Again, notice that the third note at the end is <strong>F#</strong>.</li>
</ol>
<p>Super weird, right? Why is this happening?</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-with-the-serial-monitor">Debugging with the serial monitor<a href="#debugging-with-the-serial-monitor" class="hash-link" aria-label="Direct link to Debugging with the serial monitor" title="Direct link to Debugging with the serial monitor">​</a></h2>
<p>If we <a href="/scout/change-the-arduino-code#serial-debugging">log out the indexes of the buttons</a> being pressed and play <strong>C</strong>, <strong>D</strong>, <strong>E</strong> individually it looks like this:</p>
<p><a href="/scout/assets/files/chord-individual-d1b8d3daf964bb003c8c19e5a45bf169.png" target="_blank"><img decoding="async" loading="lazy" alt="Screengrab of the Arduino serial monitor while playing C, D, and E individually" src="/scout/assets/images/chord-individual-d1b8d3daf964bb003c8c19e5a45bf169.png" width="911" height="694" class="img_ev3q"></a></p>
<p>Makes sense. <strong>0</strong> is <strong>C</strong>, <strong>2</strong> is <strong>D</strong>, and <strong>4</strong> is <strong>E</strong>. That&#x27;s just what we expected! (In code, we order lists starting at 0 instead of 1, so the indexes of the list of 17 keys go from 0 to 16, not 1 to 17.)</p>
<p>But holding them together looks like this:</p>
<p><a href="/scout/assets/files/chord-cde-cf0be930ccf28f7421ea390fc94e4e58.png" target="_blank"><img decoding="async" loading="lazy" alt="Screengrab of the Arduino serial monitor while playing C, D, and E together" src="/scout/assets/images/chord-cde-cf0be930ccf28f7421ea390fc94e4e58.png" width="911" height="694" class="img_ev3q"></a></p>
<p>The <strong>0</strong>, <strong>2</strong>, <strong>4</strong> are in there (reverse ordered but that&#x27;s irrelevant) but we also see a fourth index, <strong>6</strong>. That&#x27;s the index of the <strong>F#</strong> key.</p>
<p>Playing and holding <strong>E</strong>, <strong>D</strong>, <strong>C</strong> is the same with a different order:</p>
<p><a href="/scout/assets/files/chord-edc-a990320844d6d87aad08600f241ebfde.png" target="_blank"><img decoding="async" loading="lazy" alt="Screengrab of the Arduino serial monitor while playing E, D, and C together" src="/scout/assets/images/chord-edc-a990320844d6d87aad08600f241ebfde.png" width="911" height="694" class="img_ev3q"></a></p>
<p>That doesn&#x27;t solve our problem, but it does tell us that the microcontroller is indeed interpreting that the <strong>C</strong>, <strong>D</strong>, and <strong>E</strong> keys are being pressed but, for some reason, incorrectly <em>adding</em> the <strong>F#</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-schematic">Checking the schematic<a href="#checking-the-schematic" class="hash-link" aria-label="Direct link to Checking the schematic" title="Direct link to Checking the schematic">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-matrix-of-keys">A matrix of keys<a href="#a-matrix-of-keys" class="hash-link" aria-label="Direct link to A matrix of keys" title="Direct link to A matrix of keys">​</a></h3>
<p>The Scout has 17 keys but they only take up 9 pins on the ATmega328. It does this by convincing the microcontroller that the 17 keys are arranged in a matrix of rows and columns: 4 rows * 5 columns = 20 possible keys.</p>
<p>When a key is pressed and its switch closes, the pins for its row and column connect.</p>
<p>The matrix of rows and columns with the notes labelled, read from top to bottom and <em>then</em> left to right:</p>
<p><a href="/scout/assets/files/matrix-ce640ae3f304c5a0741ea7217c39c2b2.png" target="_blank"><img decoding="async" loading="lazy" alt="Matrix schematic with switches labelled to their corresponding notes" src="/scout/assets/images/matrix-ce640ae3f304c5a0741ea7217c39c2b2.png" width="2067" height="1220" class="img_ev3q"></a></p>
<ul>
<li><strong>Note 1:</strong> The ATmega328 only has 14 digital input/output (IO) pins, which wouldn&#x27;t be enough for all the keys if they were wired individually. There are other ways besides a matrix to get more IO out of our chip but they all require soldering more components.</li>
<li><strong>Note 2:</strong> The 3 remaining, unused matrix spots in the bottom right are available for use on the <a href="/scout/change-the-arduino-code#pins">&quot;HACK&quot; header</a>.</li>
<li><strong>Note 3:</strong> Awkwardly, the hardware components for the notes are indexed from SW2 to SW18, because only the code uses zero-indexing and the on/off switch was SW1. Thankfully, at least they are still in linear order!</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-rows-and-columns">Connecting rows and columns<a href="#connecting-rows-and-columns" class="hash-link" aria-label="Direct link to Connecting rows and columns" title="Direct link to Connecting rows and columns">​</a></h3>
<p>We can see that <strong>C</strong> is <strong>R1C1</strong> (Row 1, column 1), <strong>D</strong> is <strong>R3C1</strong>, and <strong>E</strong> is <strong>R1C2</strong>.</p>
<p><a href="/scout/assets/files/matrix-trio-f394787ec815be24dd67b81fe8e43ce7.png" target="_blank"><img decoding="async" loading="lazy" alt="Matrix schematic with C, D, and E matrix points highlighted" src="/scout/assets/images/matrix-trio-f394787ec815be24dd67b81fe8e43ce7.png" width="2067" height="1220" class="img_ev3q"></a></p>
<p>But to the microcontroller, it also sure looks like you&#x27;re pressing <strong>F#</strong> at <strong>R3C2</strong>. I mean, how could it know you&#x27;re not? So it just throws it in there.</p>
<p><a href="/scout/assets/files/matrix-f_sharp-97db287e089fb133039c3aaa7dcec79c.png" target="_blank"><img decoding="async" loading="lazy" alt="Matrix schematic with C, D, and E matrix points highlighted" src="/scout/assets/images/matrix-f_sharp-97db287e089fb133039c3aaa7dcec79c.png" width="2067" height="1220" class="img_ev3q"></a></p>
<p>That&#x27;s the culprit!!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-it-a-bug">Is it a bug?<a href="#is-it-a-bug" class="hash-link" aria-label="Direct link to Is it a bug?" title="Direct link to Is it a bug?">​</a></h2>
<p>Issues like this &quot;chord problem&quot; are normally avoided on more complex matrix circuits like your computer keyboard with diodes along the switches, but these were ommitted on the Scout to cut down on kit cost and assembly time. The Scout&#x27;s monophony was an intentional limitation to deter encountering it. After all, <em>it is supposed to be simple instrument</em>!</p>
<p>So it&#x27;s <em>kind of</em> a bug but <em>more</em> like a &quot;known issue&quot; and a cost to be paid for the simplicity of the Scout&#x27;s assembly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="homework">Homework<a href="#homework" class="hash-link" aria-label="Direct link to Homework" title="Direct link to Homework">​</a></h3>
<p>Looking at the matrix schematic, can you find other key combinations that will have the &quot;chord problem&quot;?</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/scout/opening-the-enclosure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Opening the enclosure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/scout/schematics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schematics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reproduce-the-issue" class="table-of-contents__link toc-highlight">Reproduce the issue</a></li><li><a href="#debugging-with-the-serial-monitor" class="table-of-contents__link toc-highlight">Debugging with the serial monitor</a></li><li><a href="#checking-the-schematic" class="table-of-contents__link toc-highlight">Checking the schematic</a><ul><li><a href="#a-matrix-of-keys" class="table-of-contents__link toc-highlight">A matrix of keys</a></li><li><a href="#connecting-rows-and-columns" class="table-of-contents__link toc-highlight">Connecting rows and columns</a></li></ul></li><li><a href="#is-it-a-bug" class="table-of-contents__link toc-highlight">Is it a bug?</a><ul><li><a href="#homework" class="table-of-contents__link toc-highlight">Homework</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Oskitone. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>